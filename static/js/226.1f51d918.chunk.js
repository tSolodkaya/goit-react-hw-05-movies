(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[226],{743:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var o=n(683),r=n(689),c=n(87),i="MoviesItem_movieListItem__TPZf8",a="MoviesItem_movieInfo__ccfLI",s=n(249),u=n(184),f=function(e){var t=e.original_title,n=e.vote_average,o=e.id,f=(0,r.TH)(),h=f.pathname===s.Z.HOME?s.Z.MOVIES:f.pathname;return(0,u.jsx)("li",{className:i,children:(0,u.jsx)(c.rU,{to:"".concat(h,"/").concat(o),state:{from:f},children:(0,u.jsxs)("p",{className:a,children:[t,(0,u.jsxs)("span",{children:["Raiting: ",n]})]})})})},h="MoviesList_movieList__8BnEE",l=function(e){var t=e.movies;return(0,u.jsx)("ul",{className:h,children:t.map((function(e){return(0,u.jsx)(f,(0,o.Z)({},e),e.id)}))})}},497:function(){},226:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var o=n(433),r=n(439),c=n(791),i=n(87),a=n(689),s=n(686),u=n.n(s),f="SearchForm_form__o80os",h="SearchForm_inputSearch__9idWV",l="SearchForm_searchBtn__rp2a7",m=n(184),v=function(e){var t=e.onSubmit,n=(0,c.useState)(""),o=(0,r.Z)(n,2),i=o[0],a=o[1];return(0,m.jsxs)("form",{className:f,onSubmit:function(e){if(e.preventDefault(),""===i.trim())return u().Notify.warning("Please, type what images do you want to find =)");t(i),a("")},children:[(0,m.jsx)("input",{className:h,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:i,onChange:function(e){return a(e.target.value)}}),(0,m.jsx)("button",{className:l,type:"submit",children:"Serach"})]})},p=n(743),_=n(497),d=n.n(_),g=n(565),j=function(){var e,t=(0,c.useState)([]),n=(0,r.Z)(t,2),s=n[0],u=n[1],f=(0,c.useState)(""),h=(0,r.Z)(f,2),l=h[0],_=h[1],j=(0,i.lr)(),y=(0,r.Z)(j,2),S=y[0],k=y[1],x=null!==(e=S.get("query"))&&void 0!==e?e:"",b=(0,a.TH)();return(0,c.useEffect)((function(){g.Z.fetchMoviesByQuery(x).then((function(e){return 0===e.results?Promise.reject(new Error("Sorry, we have no movies.")):u((0,o.Z)(e.results))})).catch((function(e){return _(e.message)}))}),[x]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(v,{onSubmit:function(e){k({query:e.trim()})}}),(0,m.jsx)(p.Z,{movies:s,location:b}),l&&(0,m.jsx)(d(),{message:l,type:"failure"})]})}},565:function(e,t){"use strict";var n="844acd5d93f95171cb079356b4956807",o="https://api.themoviedb.org/3/",r={fetchTrendsMovies:function(){return fetch("https://api.themoviedb.org/3/trending/all/week?api_key=".concat(n)).then((function(e){if(e.ok)return e.json()}))},fetchMoviesByQuery:function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(n,"&language=en-US&page=1&include_adult=false&query=").concat(e)).then((function(e){if(e.ok)return e.json()}))},fetchMoviesDetails:function(e){return fetch("".concat(o,"movie/").concat(e,"?api_key=").concat(n,"&language=en-US")).then((function(e){if(e.ok)return e.json()}))},fetchMovieCast:function(e){return fetch("".concat(o,"movie/").concat(e,"/credits?api_key=").concat(n,"&language=en-US")).then((function(e){if(console.log(e),e.ok)return e.json()}))},fetchMoviesReviews:function(e){return fetch("".concat(o,"movie/").concat(e,"/reviews?api_key=").concat(n,"&language=en-US&page=1")).then((function(e){if(console.log(e),e.ok)return e.json()}))},IMAGE_BASE_URL:"https://image.tmdb.org/t/p/w200"};t.Z=r}}]);
//# sourceMappingURL=226.1f51d918.chunk.js.map