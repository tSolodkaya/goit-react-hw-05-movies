"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[866],{743:function(e,t,n){n.d(t,{Z:function(){return m}});var o=n(689),r=n(87),i="MoviesItem_movieListItem__TPZf8",a="MoviesItem_movieInfo__ccfLI",c=n(249),s=n(184),u=function(e){var t=e.movie,n=(0,o.TH)(),u=n.pathname===c.Z.HOME?c.Z.MOVIES:n.pathname;return(0,s.jsx)("li",{className:i,children:(0,s.jsx)(r.rU,{to:"".concat(u,"/").concat(t.id),state:{from:n},children:(0,s.jsxs)("p",{className:a,children:[t.original_title,(0,s.jsxs)("span",{children:["Raiting: ",t.vote_average]})]})})})},f="MoviesList_movieList__8BnEE",m=function(e){var t=e.movies,n=e.location;return(0,s.jsx)("ul",{className:f,children:t.map((function(e){return(0,s.jsx)(u,{movie:e,location:n},e.id)}))})}},866:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var o=n(433),r=n(439),i=n(791),a=n(87),c=n(689),s=n(686),u=n.n(s),f="SearchForm_form__o80os",m="SearchForm_inputSearch__9idWV",l="SearchForm_searchBtn__rp2a7",h=n(184),v=function(e){var t=e.onSubmit,n=(0,i.useState)(""),o=(0,r.Z)(n,2),a=o[0],c=o[1];return(0,h.jsxs)("form",{className:f,onSubmit:function(e){if(e.preventDefault(),""===a.trim())return u().Notify.warning("Please, type what images do you want to find =)");t(a),c("")},children:[(0,h.jsx)("input",{className:m,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:a,onChange:function(e){return c(e.target.value)}}),(0,h.jsx)("button",{className:l,type:"submit",children:"Serach"})]})},p=n(743),g=n(7),_=n.n(g),d=function(e){var t=e.message,n=e.type;return u().Notify[n](t)};d.propTypes={message:_().string.isRequired,type:_().string.isRequired};var y=d,j=n(565),S=function(){var e,t=(0,i.useState)([]),n=(0,r.Z)(t,2),s=n[0],u=n[1],f=(0,i.useState)(""),m=(0,r.Z)(f,2),l=m[0],g=m[1],_=(0,a.lr)(),d=(0,r.Z)(_,2),S=d[0],k=d[1],x=null!==(e=S.get("query"))&&void 0!==e?e:"",b=(0,c.TH)();return(0,i.useEffect)((function(){j.Z.fetchMoviesByQuery(x).then((function(e){return 0===e.results?Promise.reject(new Error("Sorry, we have no movies.")):u((0,o.Z)(e.results))})).catch((function(e){return g(e.message)}))}),[x]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v,{onSubmit:function(e){k({query:e.trim()})}}),(0,h.jsx)(p.Z,{movies:s,location:b}),l&&(0,h.jsx)(y,{message:l,type:"failure"})]})}},565:function(e,t){var n="844acd5d93f95171cb079356b4956807",o="https://api.themoviedb.org/3/",r={fetchTrendsMovies:function(){return fetch("https://api.themoviedb.org/3/trending/all/week?api_key=".concat(n)).then((function(e){if(e.ok)return e.json()}))},fetchMoviesByQuery:function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(n,"&language=en-US&page=1&include_adult=false&query=").concat(e)).then((function(e){if(e.ok)return e.json()}))},fetchMoviesDetails:function(e){return fetch("".concat(o,"movie/").concat(e,"?api_key=").concat(n,"&language=en-US")).then((function(e){if(e.ok)return e.json()}))},fetchMovieCast:function(e){return fetch("".concat(o,"movie/").concat(e,"/credits?api_key=").concat(n,"&language=en-US")).then((function(e){if(console.log(e),e.ok)return e.json()}))},fetchMoviesReviews:function(e){return fetch("".concat(o,"movie/").concat(e,"/reviews?api_key=").concat(n,"&language=en-US&page=1")).then((function(e){if(console.log(e),e.ok)return e.json()}))},IMAGE_BASE_URL:"https://image.tmdb.org/t/p/w200"};t.Z=r}}]);
//# sourceMappingURL=866.e8edfa28.chunk.js.map