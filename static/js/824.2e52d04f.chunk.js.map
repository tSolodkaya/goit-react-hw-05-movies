{"version":3,"file":"static/js/824.2e52d04f.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails.module.css?6cd2","pages/MovieDetails.js","services/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"goBackLink\":\"MovieDetails_goBackLink__p4MLL\",\"title\":\"MovieDetails_title__-2Xvc\",\"movieCard\":\"MovieDetails_movieCard__ZNH3w\",\"subtitle\":\"MovieDetails_subtitle__ibY8v\",\"moreInfoBtnList\":\"MovieDetails_moreInfoBtnList__haPdo\",\"moreInfoBtn\":\"MovieDetails_moreInfoBtn__Kcjpw\"};","import { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { Suspense, useEffect, useRef, useState } from 'react';\n\nimport moviesApi from '../services/moviesApi';\nimport Loader from 'components/Loader/Loader';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [details, setDetails] = useState('');\n  const [error, setError] = useState('');\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n\n  useEffect(() => {\n    moviesApi\n      .fetchMoviesDetails(movieId)\n      .then(data => {\n        console.log(data);\n        if (Object.keys(data).length === 0) {\n          return Promise.reject(new Error(`Sorry, we have no movies.`));\n        }\n        return setDetails(data);\n      })\n      .catch(error => setError(error.message));\n  }, [movieId]);\n  const {\n    original_title,\n    overview,\n    popularity,\n    poster_path,\n    budget,\n    release_date,\n    runtime,\n  } = details;\n  return (\n    <>\n      <div className={css.goBackLink}>\n        <Link to={backLinkLocationRef.current}> Go back</Link>\n      </div>\n      <div className={css.movieCard}>\n        <img\n          src={`${moviesApi.IMAGE_BASE_URL}${poster_path}`}\n          alt={original_title}\n        />\n        <h2 className={css.title}>{original_title}</h2>\n        <p>{overview}</p>\n        <p>\n          <span className={css.subtitle}>Popularity:</span> {popularity}\n        </p>\n\n        <p className={css.subtitle}>Genres: </p>\n        <ul>\n          {details &&\n            details.genres.map(genre => <li key={genre.id}>{genre.name}</li>)}\n        </ul>\n        <p className={css.subtitle}>Production Countries:</p>\n        <ul>\n          {details &&\n            details.production_countries.map(country => (\n              <li key={country.name}>{country.name}</li>\n            ))}\n        </ul>\n        <p className={css.subtitle}>Production Companies:</p>\n        <ul>\n          {details &&\n            details.production_companies.map(company => (\n              <li key={company.id}>{company.name}</li>\n            ))}\n        </ul>\n        <p>\n          <span className={css.subtitle}>Budget: </span>\n          {budget}\n        </p>\n        <p>\n          <span className={css.subtitle}>Release: </span>\n          {release_date}\n        </p>\n        <p>\n          <span className={css.subtitle}>Runtime: </span> {runtime}\n        </p>\n        <ul className={css.moreInfoBtnList}>\n          <li className={css.moreInfoBtn}>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li className={css.moreInfoBtn}>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n      </div>\n      {error && <div>{error}</div>}\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","const KEY = '844acd5d93f95171cb079356b4956807';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w200';\n\nconst fetchTrendsMovies = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/all/week?api_key=${KEY}`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n};\n\nconst fetchMoviesByQuery = query => {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${query}`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n};\n\nconst fetchMoviesDetails = id => {\n  return fetch(`${BASE_URL}movie/${id}?api_key=${KEY}&language=en-US`).then(\n    response => {\n      if (response.ok) {\n        return response.json();\n      }\n    }\n  );\n};\n\nconst fetchMovieCast = id => {\n  return fetch(\n    `${BASE_URL}movie/${id}/credits?api_key=${KEY}&language=en-US`\n  ).then(response => {\n    console.log(response);\n    if (response.ok) {\n      return response.json();\n    }\n  });\n};\n\nconst fetchMoviesReviews = id => {\n  return fetch(\n    `${BASE_URL}movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`\n  ).then(response => {\n    console.log(response);\n    if (response.ok) {\n      return response.json();\n    }\n  });\n};\n\nconst api = {\n  fetchTrendsMovies,\n  fetchMoviesByQuery,\n  fetchMoviesDetails,\n  fetchMovieCast,\n  fetchMoviesReviews,\n  IMAGE_BASE_URL,\n};\nexport default api;\n"],"names":["movieId","useParams","useState","details","setDetails","error","setError","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","moviesApi","then","data","console","log","Object","keys","length","Promise","reject","Error","catch","message","original_title","overview","popularity","poster_path","budget","release_date","runtime","className","css","to","current","src","alt","genres","map","genre","name","id","production_countries","country","production_companies","company","Suspense","fallback","Loader","KEY","BASE_URL","api","fetchTrendsMovies","fetch","response","ok","json","fetchMoviesByQuery","query","fetchMoviesDetails","fetchMovieCast","fetchMoviesReviews","IMAGE_BASE_URL"],"sourceRoot":""}