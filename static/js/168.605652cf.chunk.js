"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[168],{869:function(e,t,n){n.d(t,{Z:function(){return c}});var a="NoInfo_noinfo__L-a7y",i=n(184),c=function(e){var t=e.message;return(0,i.jsx)("span",{className:a,children:t})}},168:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var a=n(439),i=n(689),c=n(791),r="Reviews_reviews__n3fdK",s="Reviews_reviewsList__hDAQA",o="Reviews_reviewItem__ax7Fo",u="Reviews_error__urRRw",h="Reviews_reviewImg__yYWpn",f="Reviews_reviewSubtitle__CYgai",l=n(565),v=n(869),_=n(184),d=function(){var e=(0,i.UO)().movieId,t=(0,c.useState)([]),n=(0,a.Z)(t,2),d=n[0],m=n[1],p=(0,c.useState)(""),g=(0,a.Z)(p,2),w=g[0],k=g[1];return(0,c.useEffect)((function(){l.Z.fetchMoviesReviews(e).then((function(e){return e&&0!==e.results.length?m(e.results):Promise.reject(new Error("Sorry, we have no reviews for this movie."))})).catch((function(e){return k(e.message)}))}),[e]),(0,_.jsxs)("div",{className:r,children:[(0,_.jsx)("ul",{className:s,children:d&&d.map((function(e){var t=e.id,n=e.author,a=e.author_details,i=e.content,c=e.created_at;return(0,_.jsxs)("li",{className:o,children:[n?(0,_.jsx)("h3",{children:n}):(0,_.jsx)(v.Z,{message:"Unonimus"}),a.avatar_path.includes("http")?(0,_.jsx)("img",{className:h,src:"https://upload.wikimedia.org/wikipedia/commons/0/0d/UserAvatar.svg",alt:n}):(0,_.jsx)("img",{src:"".concat(l.Z.IMAGE_BASE_URL).concat(a.avatar_path),alt:"default",width:"60"}),i&&(0,_.jsx)("p",{children:i}),c&&(0,_.jsxs)("p",{children:[(0,_.jsx)("span",{className:f,children:"Created at: "}),c]})]},t)}))}),w&&(0,_.jsx)("div",{className:u,children:w})]})}},565:function(e,t){var n="844acd5d93f95171cb079356b4956807",a="https://api.themoviedb.org/3/",i={fetchTrendsMovies:function(){return fetch("https://api.themoviedb.org/3/trending/all/week?api_key=".concat(n)).then((function(e){if(e.ok)return e.json()}))},fetchMoviesByQuery:function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(n,"&language=en-US&page=1&include_adult=false&query=").concat(e)).then((function(e){if(e.ok)return e.json()}))},fetchMoviesDetails:function(e){return fetch("".concat(a,"movie/").concat(e,"?api_key=").concat(n,"&language=en-US")).then((function(e){if(e.ok)return e.json()}))},fetchMovieCast:function(e){return fetch("".concat(a,"movie/").concat(e,"/credits?api_key=").concat(n,"&language=en-US")).then((function(e){if(console.log(e),e.ok)return e.json()}))},fetchMoviesReviews:function(e){return fetch("".concat(a,"movie/").concat(e,"/reviews?api_key=").concat(n,"&language=en-US&page=1")).then((function(e){if(console.log(e),e.ok)return e.json()}))},IMAGE_BASE_URL:"https://image.tmdb.org/t/p/w200"};t.Z=i}}]);
//# sourceMappingURL=168.605652cf.chunk.js.map