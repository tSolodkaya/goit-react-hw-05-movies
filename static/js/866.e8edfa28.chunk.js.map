{"version":3,"file":"static/js/866.e8edfa28.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesItem/MoviesItem.module.css?58c2","components/MoviesItem/MoviesItem.jsx","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","components/Notification/Notification.jsx","pages/Movies.js","services/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieListItem\":\"MoviesItem_movieListItem__TPZf8\",\"movieInfo\":\"MoviesItem_movieInfo__ccfLI\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './MoviesItem.module.css';\nimport routes from 'routes';\n\nconst MovieItem = ({ movie }) => {\n  const location = useLocation();\n  const currentPage =\n    location.pathname === routes.HOME ? routes.MOVIES : location.pathname;\n  return (\n    <li className={css.movieListItem}>\n      <Link to={`${currentPage}/${movie.id}`} state={{ from: location }}>\n        <p className={css.movieInfo}>\n          {movie.original_title}\n          <span>Raiting: {movie.vote_average}</span>\n        </p>\n      </Link>\n    </li>\n  );\n};\n\nexport default MovieItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MoviesList_movieList__8BnEE\"};","import MovieItem from 'components/MoviesItem/MoviesItem';\nimport css from './MoviesList.module.css';\n\nconst MoviesList = ({ movies, location }) => {\n  return (\n    <ul className={css.movieList}>\n      {movies.map(movie => (\n        <MovieItem key={movie.id} movie={movie} location={location} />\n      ))}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__o80os\",\"inputSearch\":\"SearchForm_inputSearch__9idWV\",\"searchBtn\":\"SearchForm_searchBtn__rp2a7\"};","import Notiflix from 'notiflix';\nimport css from './SearchForm.module.css';\nimport { useState } from 'react';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (query.trim() === '') {\n      return Notiflix.Notify.warning(\n        'Please, type what images do you want to find =)'\n      );\n    }\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <form className={css.form} onSubmit={handleSubmit}>\n      <input\n        className={css.inputSearch}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        value={query}\n        onChange={event => setQuery(event.target.value)}\n      />\n      <button className={css.searchBtn} type=\"submit\">\n        Serach\n      </button>\n    </form>\n  );\n};\n\nexport default SearchForm;\n","import Notiflix from 'notiflix';\nimport PropTypes from 'prop-types';\n\nconst Notification = ({ message, type }) => {\n  return Notiflix.Notify[type](message);\n};\n\nNotification.propTypes = {\n  message: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default Notification;\n","import { useEffect, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\n\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport Notification from 'components/Notification/Notification';\nimport moviesApi from '../services/moviesApi';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const queryParam = searchParams.get('query') ?? '';\n  const location = useLocation();\n\n  // const updateQueryString = event => {\n  //   if (event.target.value === '') {\n  //     return setSearchParams({});\n  //   }\n  //   setSearchParams({ name: event.target.value });\n  // };\n  const handleFormSubmit = query => {\n    setSearchParams({ query: query.trim() });\n  };\n\n  useEffect(() => {\n    moviesApi\n      .fetchMoviesByQuery(queryParam)\n      .then(data => {\n        if (data.results === 0) {\n          return Promise.reject(new Error(`Sorry, we have no movies.`));\n        }\n        return setMovies([...data.results]);\n      })\n      .catch(error => setError(error.message));\n  }, [queryParam]);\n\n  return (\n    <>\n      <SearchForm onSubmit={handleFormSubmit} />\n      <MoviesList movies={movies} location={location} />\n      {error && <Notification message={error} type=\"failure\" />}\n    </>\n  );\n};\n\nexport default Movies;\n","const KEY = '844acd5d93f95171cb079356b4956807';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w200';\n\nconst fetchTrendsMovies = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/all/week?api_key=${KEY}`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n};\n\nconst fetchMoviesByQuery = query => {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${query}`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n};\n\nconst fetchMoviesDetails = id => {\n  return fetch(`${BASE_URL}movie/${id}?api_key=${KEY}&language=en-US`).then(\n    response => {\n      if (response.ok) {\n        return response.json();\n      }\n    }\n  );\n};\n\nconst fetchMovieCast = id => {\n  return fetch(\n    `${BASE_URL}movie/${id}/credits?api_key=${KEY}&language=en-US`\n  ).then(response => {\n    console.log(response);\n    if (response.ok) {\n      return response.json();\n    }\n  });\n};\n\nconst fetchMoviesReviews = id => {\n  return fetch(\n    `${BASE_URL}movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`\n  ).then(response => {\n    console.log(response);\n    if (response.ok) {\n      return response.json();\n    }\n  });\n};\n\nconst api = {\n  fetchTrendsMovies,\n  fetchMoviesByQuery,\n  fetchMoviesDetails,\n  fetchMovieCast,\n  fetchMoviesReviews,\n  IMAGE_BASE_URL,\n};\nexport default api;\n"],"names":["movie","location","useLocation","currentPage","pathname","routes","className","css","to","id","state","from","original_title","vote_average","movies","map","onSubmit","useState","query","setQuery","event","preventDefault","trim","Notiflix","type","autoComplete","autoFocus","placeholder","value","onChange","target","Notification","message","propTypes","PropTypes","setMovies","error","setError","useSearchParams","searchParams","setSearchParams","queryParam","get","useEffect","moviesApi","then","data","results","Promise","reject","Error","catch","MoviesList","KEY","BASE_URL","api","fetchTrendsMovies","fetch","response","ok","json","fetchMoviesByQuery","fetchMoviesDetails","fetchMovieCast","console","log","fetchMoviesReviews","IMAGE_BASE_URL"],"sourceRoot":""}